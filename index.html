<!DOCTYPE html>
<html lang="pt-br" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mega Elite v8.7 - Racional Acadêmico</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>tailwind.config = { darkMode: 'class' }</script>
    <style>
        .q1 { background-color: #450a0a; color: #fecaca; } 
        .q2 { background-color: #3b0764; color: #e9d5ff; } 
        .q3 { background-color: #1e3a8a; color: #bfdbfe; } 
        .q4 { background-color: #451a03; color: #fde68a; }

        .numero-selecionado { 
            background-color: #22c55e !important; 
            color: #052e16 !important; 
            box-shadow: 0 0 15px #22c55e;
            transform: scale(1.05);
            z-index: 10;
        }

        .cartao-estratega {
            background: linear-gradient(145deg, #1e293b, #0f172a);
            border: 2px solid #334155;
            transition: all 0.4s ease;
            border-radius: 2.5rem;
            position: relative;
        }

        .cartao-estratega.usado {
            filter: grayscale(1) brightness(0.3);
            opacity: 0.6;
            transform: scale(0.96);
        }

        .grade-volante {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 2px;
            position: relative;
            padding: 10px;
            background: #020617;
            border-radius: 12px;
        }

        .linha-h { position: absolute; top: 50%; left: 0; right: 0; height: 2px; background: #22c55e; opacity: 0.4; z-index: 5; pointer-events: none; }
        .linha-v { position: absolute; top: 0; bottom: 0; left: 50%; width: 2px; background: #22c55e; opacity: 0.4; z-index: 5; pointer-events: none; }

        .dezena-volante { aspect-ratio: 1; display: flex; align-items: center; justify-content: center; font-size: 0.65rem; font-weight: 700; color: #334155; border: 1px solid #1e293b; z-index: 2; }
        .dezena-marcada { background-color: #22c55e !important; color: #052e16 !important; z-index: 10; border-radius: 2px; }

        .bar-container { background: #020617; height: 10px; border-radius: 99px; overflow: hidden; border: 1px solid #1e293b; }
        .fill-atk { background: linear-gradient(90deg, #ef4444, #f97316); height: 100%; transition: width 1.5s; }
        .fill-def { background: linear-gradient(90deg, #3b82f6, #06b6d4); height: 100%; transition: width 1.5s; }

        .stat-block { border-left: 4px solid #3b82f6; background: #161e2e; padding: 12px; margin-bottom: 12px; border-radius: 8px; border: 1px solid #1e293b; }
        
        .hud-flutuante {
            background: rgba(15, 23, 42, 0.98);
            backdrop-blur: lg;
            border: 2px solid #334155;
            padding: 14px 32px;
            border-radius: 99px;
            display: flex;
            align-items: center;
            gap: 20px;
            box-shadow: 0 20px 50px -12px rgba(0,0,0,0.8);
        }
    </style>
</head>
<body class="bg-slate-950 text-slate-200 min-h-screen font-sans pb-20">

    <nav class="bg-slate-900 border-b border-green-900/30 p-6 sticky top-0 z-[100] backdrop-blur-md">
        <div class="container mx-auto flex flex-col md:flex-row justify-between items-center gap-4">
            <div>
                <h1 class="text-2xl font-black italic text-green-500 uppercase tracking-tighter">Mega Elite <span class="text-white">Tactics</span></h1>
                <p class="text-[10px] text-green-700 font-bold uppercase tracking-[0.2em] mt-1">Inteligência Multivariada de Dados v8.7</p>
            </div>
            <div class="flex flex-wrap justify-center gap-3">
                <button onclick="gerarCartas()" class="bg-green-600 px-8 py-2 rounded-full font-bold text-sm hover:bg-green-500 transition-all shadow-lg active:scale-95">FORJAR JOGOS</button>
                <button onclick="analiseTop20()" class="bg-blue-600 px-5 py-2 rounded-full font-bold text-xs uppercase tracking-tighter hover:bg-blue-500 transition-colors">Ranking 20%</button>
                <button onclick="limparTudo()" class="text-slate-500 hover:text-white px-2 text-xs uppercase font-bold transition-colors">Limpar</button>
            </div>
        </div>
    </nav>

    <main class="container mx-auto p-4 md:p-8">
        <div id="deck-hud" class="hidden flex justify-center sticky top-32 z-[110] mb-16 animate-in fade-in slide-in-from-top-2 duration-300">
            <div class="hud-flutuante">
                <div class="flex flex-col">
                    <span class="text-[9px] font-black text-slate-500 uppercase tracking-[0.2em]">Status do Deck</span>
                    <span id="label-count" class="text-xl font-mono font-black text-green-500">0 / 0</span>
                </div>
                <div class="w-40 md:w-64 h-2.5 bg-slate-800 rounded-full overflow-hidden border border-slate-700">
                    <div id="deck-bar" class="h-full bg-green-500 transition-all duration-700 w-0 shadow-[0_0_15px_#22c55e]"></div>
                </div>
            </div>
        </div>

        <div class="grid lg:grid-cols-12 gap-10">
            <div class="lg:col-span-5">
                <div class="bg-slate-900 p-8 rounded-[2rem] border border-slate-800 sticky top-28 shadow-2xl">
                    <h2 class="text-sm font-black text-slate-500 mb-6 uppercase tracking-[0.2em]">Seletor de Matriz</h2>
                    <div id="volante-selecao" class="grid grid-cols-10 gap-1.5 mb-8"></div>
                    <div id="painel-racional" class="hidden space-y-4 max-h-[450px] overflow-y-auto pr-2 custom-scrollbar">
                        <h3 class="text-xs font-black text-blue-500 uppercase tracking-widest border-b border-slate-800 pb-2">Racional de Elite (N=20)</h3>
                        <div id="lista-racional"></div>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-7">
                <div id="container-cards" class="grid grid-cols-1 gap-10">
                    <div class="py-32 text-center border-2 border-dashed border-slate-800 rounded-[3.5rem] opacity-30 italic">
                        Processador aguardando a seleção de dezenas para o fechamento.
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        let selecionados = new Set();
        let registrados = 0;
        let totalJogos = 0;
        const concursoTotal = 2954;

        const dbElite = [
            { n: 10, q: 2, f: 340, p: 100, r: "<b>Atrator Estocástico:</b> Dezena com o menor desvio padrão de frequência. Sua recorrência em concursos de final zero a torna o pilar central de qualquer fechamento profissional." },
            { n: 53, q: 3, f: 332, p: 98, r: "<b>Saturação Crítica:</b> Recordista em concursos especiais. Atua como âncora inferior esquerda, apresentando alta correlação com dezenas da casa dos 30." },
            { n: 5, q: 1, f: 319, p: 95, r: "<b>Estabilizador de Soma:</b> Essencial para manter a média aritmética do jogo dentro da Curva de Gauss (soma 150-210), prevenindo dispersão estatística extrema." },
            { n: 34, q: 3, f: 316, p: 94, r: "<b>Eixo de Simetria:</b> Localizada no 'centro de massa' do volante. Serve como ponte de transição entre o topo e a base do fechamento matricial." },
            { n: 37, q: 4, f: 315, p: 93, r: "<b>Dominância Lateral:</b> Líder do Q4. Sua presença mitiga a saturação de dezenas baixas, garantindo uma cobertura espacial completa da grade." },
            { n: 33, q: 3, f: 312, p: 92, r: "<b>Cluster de Repetição:</b> Possui a maior taxa de 'dobradinhas' (aparição em concursos subsequentes). Vital para explorar ciclos curtos de frequência." },
            { n: 38, q: 4, f: 312, p: 92, r: "<b>Correlação de Vizinhança:</b> Frequentemente compõe o par de encerramento em sorteios equilibrados, servindo de suporte tático para a dezena 37." },
            { n: 17, q: 2, f: 309, p: 91, r: "<b>Densidade de Topo:</b> Dezena de média oscilante com forte tendência em sorteios onde predominam números ímpares na zona superior direita." },
            { n: 32, q: 3, f: 309, p: 90, r: "<b>Reforço Mediano:</b> Estabiliza a zona central esquerda. Costuma aparecer integrada a trios consecutivos no coração do volante." },
            { n: 43, q: 4, f: 308, p: 89, r: "<b>Efeito de Repique:</b> Dezena explosiva. Após períodos de latência, costuma reaparecer em clusters de alta frequência no curto prazo." },
            { n: 56, q: 4, f: 307, p: 88, r: "<b>Cobertura de Base:</b> Fundamental para fechamentos que exploram a última linha. Garante que o jogo não sofra de sub-representação numérica alta." },
            { n: 4, q: 1, f: 306, p: 87, r: "<b>Paridade de Suporte:</b> Correlação histórica de 18% com a dezena 05. Essencial para estabilizar a paridade par no início da aposta." },
            { n: 27, q: 2, f: 306, p: 86, r: "<b>Vértice de Inflexão:</b> Atua na transição de linhas do Q2. Mantém a fluidez e previne 'vácuos' estatísticos entre a dezena 20 e 30." },
            { n: 30, q: 2, f: 306, p: 85, r: "<b>Fechamento Decinal:</b> Recordista absoluta na décima coluna vertical. Essencial para jogos que buscam simetria de finais." },
            { n: 42, q: 3, f: 306, p: 84, r: "<b>Resiliência de Atraso:</b> Dezena com o menor índice de 'congelamento' histórico. Garante rotatividade à matriz de dezenas pares." },
            { n: 44, q: 3, f: 306, p: 83, r: "<b>Geometria Geminada:</b> Número duplo que auxilia na quebra de padrões de aleatoriedade pura, favorecendo a detecção de tendências visuais." },
            { n: 11, q: 1, f: 305, p: 82, r: "<b>Ponto de Transição:</b> Dezena líder em concursos de final ímpar acumulados. Excelente coringa para diversificação do Quadrante 1." },
            { n: 35, q: 3, f: 305, p: 81, r: "<b>Fronteira Interna:</b> Atua no limite entre o centro e a borda inferior. Vital para cruzamento de dados com as dezenas de transição." },
            { n: 46, q: 4, f: 305, p: 80, r: "<b>Estabilizador Inferior:</b> Garante o equilíbrio par do Quadrante 4. Mitiga o risco de jogos com soma final excessivamente baixa ou alta." },
            { n: 23, q: 1, f: 304, p: 79, r: "<b>Memória de Ciclo:</b> Apresenta o menor tempo de permanência no globo (atraso médio curto), servindo como regulador de probabilidade no Q1." }
        ];

        function init() {
            const v = document.getElementById('volante-selecao');
            for (let i = 1; i <= 60; i++) {
                const b = document.createElement('button');
                b.innerText = i.toString().padStart(2, '0');
                const r = Math.floor((i-1)/10), c = (i-1)%10;
                const q = (r < 3 && c < 5) ? 1 : (r < 3 && c >= 5) ? 2 : (r >= 3 && c < 5) ? 3 : 4;
                b.className = `q${q} h-9 w-full rounded-xl font-bold text-[10px] transition-all border border-transparent hover:scale-110`;
                b.id = `sel-${i}`;
                b.onclick = () => {
                    if(selecionados.has(i)) { selecionados.delete(i); b.classList.remove('numero-selecionado'); }
                    else { selecionados.add(i); b.classList.add('numero-selecionado'); }
                };
                v.appendChild(b);
            }
        }

        function gerarCartas() {
            if (selecionados.size < 6) return alert("Selecione mais dezenas para o processamento.");
            const container = document.getElementById('container-cards');
            container.innerHTML = '';
            registrados = 0; totalJogos = 10;
            document.getElementById('deck-hud').classList.remove('hidden');
            updateHUD();

            let criados = 0;
            while(criados < totalJogos) {
                let jogo = Array.from(selecionados).sort(() => Math.random() - 0.5).slice(0, 6).sort((a,b) => a-b);
                const p = jogo.filter(n => n % 2 === 0).length;
                const q = new Set(jogo.map(n => {
                    const r = Math.floor((n-1)/10), c = (n-1)%10;
                    return (r < 3 && c < 5) ? 1 : (r < 3 && c >= 5) ? 2 : (r >= 3 && c < 5) ? 3 : 4;
                })).size;
                if(q >= 3 && (p >= 2 && p <= 4)) {
                    renderCard(jogo, criados + 1, p, q);
                    criados++;
                }
            }
            window.scrollTo({ top: 350, behavior: 'smooth' });
        }

        function renderCard(nums, id, p, q) {
            const container = document.getElementById('container-cards');
            const atk = Math.round(nums.reduce((acc, n) => acc + (dbElite.find(d => d.n === n)?.p || 35), 0) / 6);
            const def = (q * 15) + (p === 3 ? 40 : 25);
            const soma = nums.reduce((a,b)=>a+b,0);
            
            const card = document.createElement('div');
            card.id = `card-${id}`;
            card.className = "cartao-estratega p-8 shadow-2xl";
            let grid = '<div class="grade-volante"><div class="linha-h"></div><div class="linha-v"></div>';
            for(let i=1; i<=60; i++) grid += `<div class="dezena-volante ${nums.includes(i) ? 'dezena-marcada' : ''}">${i.toString().padStart(2, '0')}</div>`;
            grid += '</div>';

            card.innerHTML = `
                <div class="flex justify-between items-center mb-6">
                    <span class="text-xs font-black text-green-500 italic uppercase tracking-tighter">Estrategista #${id}</span>
                    <button onclick="registrar(${id})" id="btn-reg-${id}" class="bg-green-600 px-6 py-2 rounded-full text-[10px] font-black text-white transition-all active:scale-95 shadow-lg shadow-green-900/40 uppercase tracking-widest">Registrar</button>
                </div>
                ${grid}
                <div class="mt-8 space-y-6">
                    <div class="flex justify-between font-mono text-sm font-bold text-slate-300"><span>${nums.join(' · ')}</span><span>Soma: ${soma}</span></div>
                    <div class="space-y-4">
                        <div><div class="flex justify-between text-[9px] font-black mb-1 uppercase tracking-widest"><span>Poder Ofensivo (Densidade)</span><span>${atk}%</span></div><div class="bar-container"><div class="fill-atk" style="width:${atk}%"></div></div></div>
                        <div><div class="flex justify-between text-[9px] font-black mb-1 uppercase tracking-widest"><span>Resiliência (Equilíbrio)</span><span>${def}%</span></div><div class="bar-container"><div class="fill-def" style="width:${def}%"></div></div></div>
                    </div>
                    <div class="p-4 bg-slate-950/50 rounded-2xl border border-slate-800 text-[10px] leading-relaxed text-slate-400">
                        <b>Racional Tático do Jogo #${id}:</b> Esta matriz apresenta paridade ${p}P:${6-p}I, respeitando a frequência observada em 82% dos concursos. A ocupação de ${q} quadrantes maximiza a cobertura geométrica, enquanto a soma nominal de ${soma} mantém o jogo no centro da Curva de Normalidade estatística.
                    </div>
                </div>
            `;
            container.appendChild(card);
        }

        function registrar(id) {
            const card = document.getElementById(`card-${id}`);
            const btn = document.getElementById(`btn-reg-${id}`);
            if(card.classList.contains('usado')) {
                card.classList.remove('usado'); btn.innerText = "Registrar"; registrados--;
            } else {
                card.classList.add('usado'); btn.innerText = "Registrado ✓"; registrados++;
            }
            updateHUD();
        }

        function updateHUD() {
            document.getElementById('label-count').innerText = `${registrados} / ${totalJogos}`;
            document.getElementById('deck-bar').style.width = `${(registrados / totalJogos) * 100}%`;
            if(registrados === totalJogos) document.getElementById('label-count').classList.add('animate-pulse', 'text-green-400');
            else document.getElementById('label-count').classList.remove('animate-pulse', 'text-green-400');
        }

        function analiseTop20() {
            limparTudo();
            document.getElementById('painel-racional').classList.remove('hidden');
            const lista = document.getElementById('lista-racional');
            dbElite.forEach(d => {
                const btn = document.getElementById(`sel-${d.n}`);
                selecionados.add(d.n); btn.classList.add('numero-selecionado');
                const perc = ((d.f / concursoTotal) * 100).toFixed(2);
                lista.innerHTML += `<div class="stat-block"><div class="flex justify-between items-center mb-1 font-bold text-xs uppercase"><span class="text-white">Dezena ${d.n}</span><span class="text-green-500 font-mono">${perc}%</span></div><div class="h-1.5 w-full bg-slate-900 rounded-full overflow-hidden border border-slate-800"><div class="h-full bg-green-500" style="width:${perc}%"></div></div><p class="text-[10px] text-slate-500 mt-2 italic leading-tight">${d.r}</p></div>`;
            });
        }

        function limparTudo() {
            selecionados.clear(); registrados = 0; totalJogos = 0;
            document.querySelectorAll('.numero-selecionado').forEach(b => b.classList.remove('numero-selecionado'));
            document.getElementById('container-cards').innerHTML = '<div class="py-32 text-center border-2 border-dashed border-slate-800 rounded-[3.5rem] opacity-30 italic">Processador reiniciado para nova simulação.</div>';
            document.getElementById('painel-racional').classList.add('hidden');
            document.getElementById('deck-hud').classList.add('hidden');
        }

        init();
    </script>
</body>
</html>
